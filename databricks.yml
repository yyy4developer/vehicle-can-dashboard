bundle:
  name: "yao-demo-vehicle-app"

sync:
  include:
    - .build

artifacts:
  default:
    build: uv run apx build

resources:
  apps:
    yao-demo-vehicle-app-app:
      name: "yao-demo-vehicle-app"
      description: "yao-demo-vehicle-app created with apx"
      source_code_path: ./.build
      resources:
        - name: "db"
          database:
            database_name: "yao-lakebase"
            instance_name: "fe-shared-demo"
            permission: "CAN_CONNECT_AND_CREATE"

  # 使用已存在的数据库实例 fe-shared-demo，不需要创建新的
  # database_instances:
  #   yao-demo-vehicle-app-db:
  #     name: "yao-demo-vehicle-app"
  #     capacity: "CU_1"


targets:
  dev:
    mode: development
    default: true
    workspace:
      host: https://e2-demo-field-eng.cloud.databricks.com
      profile: DEFAULT